<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body class="admin-body">
    <div class="admin-container">
        <!-- –®–∞–ø–∫–∞ –∞–¥–º–∏–Ω–∫–∏ -->
        <header class="admin-header">
            <h1>‚öôÔ∏è –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h1>
            <div class="admin-user">
                <span id="adminName">–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</span>
                <button class="logout-btn" onclick="logout()">–í—ã–π—Ç–∏</button>
            </div>
        </header>
        
        <!-- –¢–∞–±—ã –∞–¥–º–∏–Ω–∫–∏ -->
        <div class="admin-tabs">
            <button class="admin-tab active" data-tab="users">üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</button>
            <button class="admin-tab" data-tab="payments">üí∞ –ü–ª–∞—Ç–µ–∂–∏</button>
            <button class="admin-tab" data-tab="stats">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</button>
            <button class="admin-tab" data-tab="settings">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
        </div>
        
        <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –≤–∫–ª–∞–¥–æ–∫ -->
        <div class="admin-content">
            
            <!-- –í–∫–ª–∞–¥–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π -->
            <div id="usersTab" class="tab-content active">
                <div class="tab-header">
                    <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</h2>
                    <div class="search-box">
                        <input type="text" id="userSearch" placeholder="–ü–æ–∏—Å–∫ –ø–æ ID –∏–ª–∏ –∏–º–µ–Ω–∏...">
                        <button class="search-btn">üîç</button>
                    </div>
                </div>
                
                <div class="users-list" id="usersList">
                    <!-- –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π -->
                    <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π...</div>
                </div>
                
                <div class="user-actions">
                    <button class="action-btn" onclick="addTestUser()">
                        + –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                    </button>
                    <button class="action-btn danger" onclick="clearAllUsers()">
                        üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
                    </button>
                </div>
            </div>
            
            <!-- –í–∫–ª–∞–¥–∫–∞ –ø–ª–∞—Ç–µ–∂–µ–π -->
            <div id="paymentsTab" class="tab-content">
                <div class="tab-header">
                    <h2>–ò—Å—Ç–æ—Ä–∏—è –ø–ª–∞—Ç–µ–∂–µ–π</h2>
                    <div class="filters">
                        <select id="paymentFilter">
                            <option value="all">–í—Å–µ –ø–ª–∞—Ç–µ–∂–∏</option>
                            <option value="today">–°–µ–≥–æ–¥–Ω—è</option>
                            <option value="week">–ó–∞ –Ω–µ–¥–µ–ª—é</option>
                            <option value="month">–ó–∞ –º–µ—Å—è—Ü</option>
                        </select>
                    </div>
                </div>
                
                <div class="payments-list" id="paymentsList">
                    <!-- –°–ø–∏—Å–æ–∫ –ø–ª–∞—Ç–µ–∂–µ–π -->
                    <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –ø–ª–∞—Ç–µ–∂–µ–π...</div>
                </div>
                
                <div class="payment-stats">
                    <div class="stat-card">
                        <div class="stat-title">–í—Å–µ–≥–æ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–π</div>
                        <div class="stat-value" id="totalPayments">0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-title">–û–±—â–∞—è —Å—É–º–º–∞</div>
                        <div class="stat-value" id="totalAmount">$0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-title">–°—Ä–µ–¥–Ω–∏–π —á–µ–∫</div>
                        <div class="stat-value" id="avgPayment">$0</div>
                    </div>
                </div>
            </div>
            
            <!-- –í–∫–ª–∞–¥–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ -->
            <div id="statsTab" class="tab-content">
                <div class="tab-header">
                    <h2>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã</h2>
                    <div class="date-range">
                        <input type="date" id="startDate">
                        <span>–¥–æ</span>
                        <input type="date" id="endDate">
                        <button class="apply-btn" onclick="updateStats()">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
                    </div>
                </div>
                
                <div class="stats-cards">
                    <div class="stat-card big">
                        <div class="stat-title">–í—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</div>
                        <div class="stat-value big" id="totalUsers">0</div>
                    </div>
                    
                    <div class="stat-card big">
                        <div class="stat-title">–ê–∫—Ç–∏–≤–Ω—ã—Ö —Ç—Ä–µ–π–¥–µ—Ä–æ–≤</div>
                        <div class="stat-value big" id="activeTraders">0</div>
                    </div>
                    
                    <div class="stat-card big">
                        <div class="stat-title">–û–±—â–∏–π –±–∞–ª–∞–Ω—Å</div>
                        <div class="stat-value big" id="totalBalance">$0</div>
                    </div>
                    
                    <div class="stat-card big">
                        <div class="stat-title">–û–±—â–∏–π P&L</div>
                        <div class="stat-value big" id="totalPnl">$0</div>
                    </div>
                </div>
                
                <div class="charts-container">
                    <div class="chart-box">
                        <h3>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</h3>
                        <canvas id="registrationsChart"></canvas>
                    </div>
                    
                    <div class="chart-box">
                        <h3>–ü–æ–ø–æ–ª–Ω–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞</h3>
                        <canvas id="depositsChart"></canvas>
                    </div>
                </div>
            </div>
            
            <!-- –í–∫–ª–∞–¥–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
            <div id="settingsTab" class="tab-content">
                <div class="tab-header">
                    <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã</h2>
                </div>
                
                <div class="settings-form">
                    <div class="setting-group">
                        <label>–ù–∞—á–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å ($)</label>
                        <input type="number" id="startBalance" value="1000" min="0">
                    </div>
                    
                    <div class="setting-group">
                        <label>–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –ø–ª–µ—á–æ</label>
                        <select id="maxLeverage">
                            <option value="10">10x</option>
                            <option value="20">20x</option>
                            <option value="50">50x</option>
                            <option value="100">100x</option>
                        </select>
                    </div>
                    
                    <div class="setting-group">
                        <label>–ö–æ–º–∏—Å—Å–∏—è –Ω–∞ –≤—ã–≤–æ–¥ (%)</label>
                        <input type="number" id="withdrawFee" value="5" min="0" max="50" step="0.1">
                    </div>
                    
                    <div class="setting-group">
                        <label>–ö—É—Ä—Å Stars ($ –∑–∞ 1 Star)</label>
                        <input type="number" id="starsRate" value="0.01" min="0.001" step="0.001">
                    </div>
                    
                    <div class="setting-group">
                        <label>–ë–æ–Ω—É—Å –∑–∞ –ø–µ—Ä–≤—É—é –ø–æ–∫—É–ø–∫—É (%)</label>
                        <input type="number" id="firstBonus" value="10" min="0" max="100">
                    </div>
                    
                    <div class="setting-actions">
                        <button class="save-btn" onclick="saveSettings()">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
                        <button class="reset-btn" onclick="resetSettings()">üîÑ –°–±—Ä–æ—Å–∏—Ç—å</button>
                    </div>
                </div>
                
                <div class="danger-zone">
                    <h3>–û–ø–∞—Å–Ω–∞—è –∑–æ–Ω–∞</h3>
                    <div class="danger-actions">
                        <button class="danger-btn" onclick="resetAllData()">
                            üóëÔ∏è –°–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ
                        </button>
                        <button class="danger-btn" onclick="exportData()">
                            üì§ –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
                        </button>
                        <button class="danger-btn" onclick="importData()">
                            üì• –ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
                        </button>
                    </div>
                </div>
            </div>
            
        </div>
    </div>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º -->
    <div id="userModal" class="modal">
        <div class="modal-content">
            <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º</h2>
            <div class="user-modal-info">
                <div class="info-row">
                    <span>ID:</span>
                    <span id="modalUserId">-</span>
                </div>
                <div class="info-row">
                    <span>–ò–º—è:</span>
                    <span id="modalUserName">-</span>
                </div>
                <div class="info-row">
                    <span>–ë–∞–ª–∞–Ω—Å:</span>
                    <span id="modalUserBalance">$0</span>
                </div>
                <div class="info-row">
                    <span>Stars:</span>
                    <span id="modalUserStars">0 ‚≠ê</span>
                </div>
            </div>
            
            <div class="user-edit-form">
                <div class="form-group">
                    <label>–ò–∑–º–µ–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å ($)</label>
                    <input type="number" id="editBalance" min="0" step="0.01">
                </div>
                
                <div class="form-group">
                    <label>–î–æ–±–∞–≤–∏—Ç—å Stars</label>
                    <input type="number" id="editStars" min="0" step="1">
                </div>
                
                <div class="form-group">
                    <label>–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å</label>
                    <select id="editStatus">
                        <option value="active">–ê–∫—Ç–∏–≤–Ω—ã–π</option>
                        <option value="banned">–ó–∞–±–∞–Ω–µ–Ω</option>
                        <option value="premium">–ü—Ä–µ–º–∏—É–º</option>
                    </select>
                </div>
            </div>
            
            <div class="modal-buttons">
                <button class="modal-btn cancel-btn" onclick="closeUserModal()">–û—Ç–º–µ–Ω–∞</button>
                <button class="modal-btn save-btn" onclick="saveUserChanges()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                <button class="modal-btn danger-btn" onclick="deleteUser()">–£–¥–∞–ª–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <script src="auth.js"></script>
    <script src="admin.js"></script>
</body>
</html>
